# This is an example of a workstation configuration file.

# The path to the directory where the data is stored
# (can also specify the path to a single fasta file)
fasta_path: /flare/FoundEpidem/ogokdemir/projects/parslfold/60K_trpB_for_filtering_AA_25m_genslm_k40_p87.fasta

# The path to the directory where the output files will be stored.
# Will write a new subdirectory for each sequence containing the
# folded structure PDB file and a JSON file with the plddt score.
output_dir: /flare/FoundEpidem/ogokdemir/projects/trpB/structures/60K_amin-aug8

# The number of sequences to fold per worker function call.
chunk_size: 10


# The folding parameters to use (these parameters are for chai1)
folding_config:
    # The sequence type (e.g., protein, dna, rna, ligand).
    sequence_type: protein
    # Whether to use ESM embeddings.
    use_esm_embeddings: True
    # Number of trunk recycles.
    num_trunk_recycles: 3
    # The number of diffusion timesteps, by default 80
    # following recommendations from here:
    # https://github.com/chaidiscovery/chai-lab/issues/80
    num_diffn_timesteps: 80
    # Random seed.
    seed: 42
    # Device to use (cpu or cuda).
    device: xpu
    # Path to the download directory.
    download_dir: /lus/flare/projects/FoundEpidem/ogokdemir/hf_home
    # Temporary directory to store intermediate files.
    tmp_dir: /dev/shm

# The compute settings for the workflow
compute_config:
  # The name of the compute platform to use
  name: aurora
  # The number of compute nodes to use
  num_nodes: 2
  # Make sure to update the path to your conda environment and HF cache
  worker_init: "source /home/ogokdemir/torch_env_setup.sh;  HF_HOME=/lus/flare/projects/FoundEpidem/ogokdemir/hf_home"
  # The scheduler options to use when submitting jobs
  scheduler_options: "#PBS -l filesystems=home:flare"
  # Make sure to change the account to the account you want to charge
  account: candle_aesp_CNDA
  # The HPC queue to submit to
  queue: debug-scaling
  # The amount of time to request for your job
  walltime: "00:30:00"
